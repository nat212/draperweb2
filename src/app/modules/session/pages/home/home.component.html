<mat-drawer-container autosize class="app-drawer-container">
  <mat-drawer mode="side" #drawer class="app-drawer" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="8px">
    <mat-toolbar class="mat-elevation-z2">
      <mat-toolbar-row fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
        <button mat-icon-button type="button" (click)="drawer.close()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <span>Menu</span>
      </mat-toolbar-row>
    </mat-toolbar>
    <mat-action-list>
      <mat-list-item *ngFor="let link of links" [routerLink]="link.path">
        <mat-icon matListIcon>{{ link.icon }}</mat-icon>
        <span matLine>{{ link.title }}</span>
      </mat-list-item>
    </mat-action-list>
  </mat-drawer>
  <mat-drawer-content class="app-drawer-content" fxLayout="column" fxLayoutAlign="start stretch">
    <mat-toolbar color="primary" class="app-toolbar">
      <mat-toolbar-row fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
        <button mat-icon-button type="button" (click)="drawer.open()">
          <mat-icon>menu</mat-icon>
        </button>
        <img class="logo" src="assets/images/bushy-transparent.png" alt="Bushy logo" />
        <span>DraperWeb</span>
        <span fxFlex="1 1 auto"></span>
        <button mat-icon-button *ngIf="update.updateAvailable$ | async" (click)="update.activateUpdate()" type="button">
          <mat-icon>system_update</mat-icon>
        </button>
      </mat-toolbar-row>
    </mat-toolbar>
    <dw-breadcrumbs *ngIf="breadcrumbs$ | async as crumbs" [crumbs]="crumbs"></dw-breadcrumbs>
    <div class="app-contents" fxFlex="1 1 auto">
      <router-outlet></router-outlet>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
